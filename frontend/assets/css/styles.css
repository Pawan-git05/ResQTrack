:root {
	--brand-blue: #2563eb; /* trust */
	--brand-orange: #f97316; /* action */
	--brand-green: #10b981; /* hope */
	--bg-soft: #f8fafc;
	--text-dark: #0f172a;
}

body { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text-dark); background: #ffffff; }
.navbar-brand span { font-weight: 700; }

/* Ensure all images scale within their containers without overflow */
img { max-width: 100%; height: auto; display: block; }

.hero {
	position: relative;
	min-height: 70vh;
	display: grid;
	place-items: center;
	background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.25)), url('https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
	color: #fff;
	transition: background-image .6s ease-in-out;
}
.hero .content { position: relative; z-index: 1; text-align: left; }
.hero h1 { font-weight: 800; letter-spacing: .2px; }
.hero p.lead { font-size: 1.15rem; opacity: .95; }

.btn-gradient-blue { background: linear-gradient(90deg, var(--brand-blue), #1d4ed8); color: #fff; border: 0; }
.btn-gradient-orange { background: linear-gradient(90deg, var(--brand-orange), #ea580c); color: #fff; border: 0; }
.btn-gradient-green { background: linear-gradient(90deg, var(--brand-green), #059669); color: #fff; border: 0; }
.btn-lg { padding: .85rem 1.25rem; border-radius: 999px; font-weight: 700; }

.btn-gradient-blue:hover,
.btn-gradient-orange:hover,
.btn-gradient-green:hover { filter: brightness(1.05); transform: translateY(-1px); }
.btn-gradient-blue,
.btn-gradient-orange,
.btn-gradient-green { transition: all .2s ease; box-shadow: 0 8px 24px rgba(37, 99, 235, .15); }

/* Glowing CTA focus */
.btn-gradient-blue:focus,
.btn-gradient-orange:focus,
.btn-gradient-green:focus { box-shadow: 0 0 0 0.25rem rgba(37,99,235,.25); outline: none; }

.stats { background: var(--bg-soft); }
.stat-card { background: #fff; border: 0; border-radius: 16px; padding: 1.25rem; box-shadow: 0 8px 24px rgba(2, 6, 23, .06); transition: transform .2s ease, box-shadow .2s ease; }
.stat-card:hover { transform: translateY(-3px); box-shadow: 0 12px 32px rgba(2, 6, 23, .10); }
.stat-icon { width: 48px; height: 48px; border-radius: 12px; display: grid; place-items: center; color: #fff; margin-bottom: .5rem; }
.stat-icon span { display: inline-block; white-space: nowrap; }
.stat-icon.blue { background: var(--brand-blue); }
.stat-icon.green { background: var(--brand-green); }
.stat-icon.orange { background: var(--brand-orange); }
.stat-value { font-size: 1.75rem; font-weight: 800; }
.stat-label { opacity: .75; font-weight: 600; }

.section-title { font-weight: 800; }
.section-subtitle { opacity: .85; }

.why-section { background: #fff; }
.why-card { background: #fff; border: 0; border-radius: 16px; padding: 1.25rem; box-shadow: 0 6px 20px rgba(2,6,23,.06); height: 100%; }

.steps-section { background: var(--bg-soft); }
.step { display: flex; gap: 16px; align-items: center; background: #fff; padding: 1rem; border-radius: 16px; box-shadow: 0 6px 20px rgba(2,6,23,.06); height: 100%; }
.step .num { width: 40px; height: 40px; border-radius: 999px; display: grid; place-items: center; background: var(--brand-blue); color: #fff; font-weight: 800; }

.actions-section { background: #fff; }
.action-card { border: 0; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 28px rgba(2,6,23,.08); height: 100%; transition: transform .2s ease, box-shadow .2s ease; }
.action-card:hover { transform: translateY(-4px); box-shadow: 0 14px 36px rgba(2,6,23,.12); }
.action-card img { height: 200px; object-fit: cover; }

/* Hover zoom for images */
.img-zoom img { transition: transform .35s ease; }
.img-zoom:hover img { transform: scale(1.05); }

.stories-section { background: var(--bg-soft); }
.story-card { border: 0; border-radius: 16px; overflow: hidden; box-shadow: 0 6px 20px rgba(2,6,23,.06); height: 100%; }
.story-card img { height: 180px; object-fit: cover; }

/* Carousel controls contrast */
.carousel-control-prev-icon,
.carousel-control-next-icon { filter: drop-shadow(0 2px 4px rgba(0,0,0,.35)); }

.back-btn { display: inline-flex; align-items: center; gap: .5rem; border-radius: 999px; padding: .5rem .9rem; background: #eef2ff; color: #1e40af; font-weight: 600; text-decoration: none; }
.back-btn:hover { filter: brightness(0.97); }

footer { background: #0b1220; color: #e5e7eb; padding: 2rem 0; margin-top: 0; }
.badge-status { font-size: .85rem; }

/* Fade-in reveal animations */
.reveal { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
.reveal.revealed { opacity: 1; transform: translateY(0); }

/* Modal content typography */
.modal-body p { line-height: 1.6; }

/* Loading Overlay */
.loading-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(15, 23, 42, 0.35);
	backdrop-filter: blur(2px);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 9999;
	opacity: 0;
	animation: fadeIn .2s ease forwards;
}
.loading-spinner {
	width: 48px;
	height: 48px;
	border: 4px solid rgba(255,255,255,.35);
	border-top-color: #fff;
	border-radius: 50%;
	animation: spin .9s linear infinite;
}

/* Button Loading State */
.btn.btn-loading,
.btn-loading {
	position: relative;
	opacity: .8;
	cursor: not-allowed;
}
.btn-loading .spinner-inline {
	display: inline-block;
	width: 1rem;
	height: 1rem;
	margin-right: .5rem;
	border: 2px solid rgba(255,255,255,.6);
	border-top-color: #fff;
	border-radius: 50%;
	vertical-align: -2px;
	animation: spin .8s linear infinite;
}

@keyframes spin {
	to { transform: rotate(360deg); }
}

@keyframes slideInRight {
	from { transform: translateX(16px); opacity: 0; }
	to { transform: translateX(0); opacity: 1; }
}

@keyframes fadeOut {
	to { opacity: 0; transform: translateY(-4px); }
}

/* Toast Notifications */
.toast-container {
	position: fixed;
	top: 16px;
	right: 16px;
	display: flex;
	flex-direction: column;
	gap: 10px;
	z-index: 10000;
	pointer-events: none;
}
.toast {
	min-width: 280px;
	max-width: 380px;
	background: #fff;
	color: var(--text-dark);
	border-radius: 12px;
	box-shadow: 0 10px 28px rgba(2,6,23,.15);
	border: 1px solid rgba(2,6,23,.06);
	padding: .75rem .9rem;
	display: flex;
	align-items: center;
	gap: .6rem;
	animation: slideInRight .25s ease both;
	pointer-events: auto;
}
.toast .toast-close {
	margin-left: auto;
	border: 0;
	background: transparent;
	font-size: 1.1rem;
	opacity: .6;
	cursor: pointer;
}
.toast .toast-close:hover { opacity: .9; }
.toast-success { border-left: 4px solid var(--brand-green); }
.toast-error { border-left: 4px solid #ef4444; }
.toast-info { border-left: 4px solid var(--brand-blue); }

/* Form Validation */
.form-control.is-valid { border-color: var(--brand-green); box-shadow: 0 0 0 .15rem rgba(16,185,129,.15); }
.form-control.is-invalid { border-color: #ef4444; box-shadow: 0 0 0 .15rem rgba(239,68,68,.15); }
.invalid-feedback { color: #b91c1c; font-size: .85rem; margin-top: .25rem; }
.valid-feedback { color: #065f46; font-size: .85rem; margin-top: .25rem; }

/* Focus and Interaction Enhancements */
.form-control,
.form-select,
.btn { transition: all .2s ease; }
.form-control:focus,
.form-select:focus { box-shadow: 0 0 0 .2rem rgba(37,99,235,.15); }
.btn:active { transform: scale(.98); }
.btn:disabled { opacity: .65; cursor: not-allowed; }

/* Simple skeleton loaders (used in tables/cards) */
.skeleton { position: relative; overflow: hidden; background: #e5e7eb; border-radius: 6px; }
.skeleton::after { content: ''; position: absolute; inset: 0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,.4), transparent); animation: shimmer 1.2s infinite; }
@keyframes shimmer { to { transform: translateX(100%); } }

/* Fade-in on data load */
.fade-in { animation: fadeIn .25s ease both; }
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }

/* Map Styling */
.view-container {
	transition: all 0.3s ease;
}

/* Custom map markers */
.custom-hospital-icon,
.custom-marker-icon {
	background: rgba(255, 255, 255, 0.9);
	border: 2px solid #fff;
	border-radius: 50%;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 16px;
	text-align: center;
	line-height: 1;
}

.custom-hospital-icon:hover,
.custom-marker-icon:hover {
	transform: scale(1.1);
	transition: transform 0.2s ease;
}

/* Map container styling */
#map,
#hospitals-map,
#police-map,
#locationPickerMap {
	border-radius: 8px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	transition: box-shadow 0.3s ease;
}

#map:hover,
#hospitals-map:hover,
#police-map:hover,
#locationPickerMap:hover {
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

/* Leaflet popup customization */
.leaflet-popup-content-wrapper {
	border-radius: 8px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.leaflet-popup-content {
	margin: 12px;
	font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.leaflet-popup-tip {
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Map view toggle buttons */
.btn-group .btn {
	border-radius: 6px;
	font-weight: 600;
	transition: all 0.2s ease;
}

.btn-group .btn.active {
	background-color: var(--brand-blue);
	border-color: var(--brand-blue);
	color: white;
}

.btn-group .btn:not(.active):hover {
	background-color: rgba(37, 99, 235, 0.1);
	border-color: var(--brand-blue);
	color: var(--brand-blue);
}

/* Location picker map specific styling */
#locationPickerMap {
	cursor: crosshair;
}

#locationPickerMap:hover {
	cursor: crosshair;
}

/* Map loading state */
.map-loading {
	position: relative;
	background: #f8fafc;
	border: 2px dashed #cbd5e1;
	border-radius: 8px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: #64748b;
	font-weight: 500;
}

.map-loading::before {
	content: "ðŸ—ºï¸ Loading map...";
}

/* Responsive map adjustments */
@media (max-width: 768px) {
	#map,
	#hospitals-map,
	#police-map {
		height: 400px !important;
	}
	
	#locationPickerMap {
		height: 250px !important;
	}
	
	.custom-hospital-icon,
	.custom-marker-icon {
		font-size: 14px;
		width: 26px !important;
		height: 26px !important;
	}
}

/* --- UI Enhancements (Non-breaking, visual-only) --- */

/* Navbar */
.navbar.bg-body-tertiary {
  background: rgba(255,255,255,.85) !important;
  backdrop-filter: saturate(160%) blur(6px);
  box-shadow: 0 6px 24px rgba(2,6,23,.06);
}
.navbar .navbar-brand { display: inline-flex; align-items: center; gap: 6px; }
.navbar .navbar-brand span {
  background: linear-gradient(90deg, var(--brand-blue), var(--brand-green));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.navbar .nav-link { position: relative; font-weight: 600; }
.navbar .nav-link::after {
  content: '';
  position: absolute;
  left: 0; right: 0;
  bottom: .35rem;
  height: 2px;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .2s ease;
  background: currentColor;
  opacity: .45;
}
.navbar .nav-link:hover::after,
.navbar .nav-link.active::after { transform: scaleX(1); }

/* Section spacing polish */
section { scroll-margin-top: 72px; }

/* Cards subtle lift on focus (keyboard friendly) */
.card:focus-within,
.card:focus { outline: none; box-shadow: 0 0 0 .2rem rgba(37,99,235,.12), 0 10px 28px rgba(2,6,23,.08); }

/* Tables */
.table thead.table-dark {
  background: linear-gradient(90deg, #0b1220, #1f2937) !important;
  border-bottom: 0;
}
.table > :not(caption) > * > * { vertical-align: middle; }
.table tbody tr:hover { background-color: #f8fafc; }
.table tbody tr { transition: background-color .15s ease; }

/* Nav tabs */
.nav-tabs { border-color: #e5e7eb; }
.nav-tabs .nav-link { font-weight: 600; color: #334155; }
.nav-tabs .nav-link.active { color: var(--brand-blue); border-color: var(--brand-blue); }
.nav-tabs .nav-link:hover { border-color: #cbd5e1; }

/* Modals */
.modal-content { border-radius: 14px; box-shadow: 0 16px 48px rgba(2,6,23,.28); }
.modal-header { border-bottom-color: #f1f5f9; }
.modal-footer { border-top-color: #f1f5f9; }

/* Forms small refinements */
.form-label { font-weight: 600; }
.form-control::placeholder { color: #94a3b8; }

/* Carousel controls larger hit area */
.carousel-control-prev, .carousel-control-next { width: 7%; }

/* Footer subtle top shadow */
footer { box-shadow: 0 -8px 24px rgba(2,6,23,.06) inset; }

/* Utility classes */
.soft-shadow { box-shadow: 0 8px 24px rgba(2,6,23,.08); }
.rounded-16 { border-radius: 16px; }

/* Reduce motion respect */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}
