<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Hospitals - ResQTrack</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link href="./assets/css/styles.css" rel="stylesheet" />
</head>
<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container">
			<a class="navbar-brand" href="./index.html">ğŸ¾ <span>ResQTrack</span></a>
		</div>
	</nav>
	<div class="container py-4">
		<h1 class="h4 mb-3">Hospital Directory</h1>
		<div id="list" class="row g-3"></div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="./assets/js/api.js"></script>
	<script>
		async function load() {
			try {
				const res = await window.ResQApi.listHospitals();
				const list = document.getElementById('list');
				list.innerHTML = (res.items || []).map(h => `
					<div class='col-md-6'>
						<div class='card h-100'>
							<div class='card-body'>
								<h5 class='card-title'>${h.name}</h5>
								<p class='card-text mb-1'>${h.address || ''}</p>
								<p class='card-text mb-1'>${h.phone || ''}</p>
								<p class='card-text'><span class='badge text-bg-${h.is_24x7 ? 'success' : 'secondary'}'>${h.is_24x7 ? '24x7' : 'Limited'}</span> ${h.treatment_types || ''}</p>
							</div>
						</div>
					</div>
				`).join('');
			} catch (e) {
				console.error(e);
			}
		}
		load();
	</script>
</body>
</html>
